@using wsPLD_8.Extesion;
@using wsPLD_8.Models.Shared
@using wsPLD_8.Models.Catalogos;
@inject Aplicacion<int> _aplicacion
@model Graficas
@{
    
}
<link rel="stylesheet" href="~/dist/css/ionicons.min.css">
<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.css"
      integrity="sha256-4MX+61mt9NVvvuPjUWdUdyfZfxSB1/Rf9WtqRHgG5S0="
      crossorigin="anonymous" />

<section class="content">
    <div class="container-fluid">
        <div class="row">

            <div class="col-lg-2 col-4">
                <div class="small-box bg-info">
                    <div class="inner">
                        <h3>@Model.Totales.First().Total</h3>
                        <p>Total de Ticket</p>
                    </div>
                    <div class="small-box-icon">
                        <i class="ion ion-arrow-graph-up-right"></i>
                    </div>
                    <a href="/Home/Listado?PagAct=@_aplicacion.PagAct&cTLS_Id=@_aplicacion.UsrId" class="small-box-footer">Mas Info <i class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>

            <div class="col-lg-2 col-4">
                <div class="small-box bg-success" style="color: white;">
                    <div class="inner">
                        <h3>@Model.Totales.First().Liverados<sup style="font-size: 20px">%</sup></h3>
                        <p>Liberado</p>
                    </div>
                    <div class="small-box-icon">
                        <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="/Home/Listado?PagAct=@_aplicacion.PagAct&cTLS_Id=@_aplicacion.UsrId&Filtro=6.-" class="small-box-footer">Mas Info <i class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>

            <div class="col-lg-2 col-4">
                <div class="small-box" style="background-color: #3eff92;color: #1f2d3d;">
                    <div class="inner">
                        <h3>@Model.Totales.First().EnProceso</h3>
                        <p>En Revision</p>
                    </div>
                    <div class="small-box-icon">
                        <i class="ion ion-arrow-graph-up-right"></i>
                    </div>
                    <a href="/Home/Listado?PagAct=@_aplicacion.PagAct&cTLS_Id=@_aplicacion.UsrId&Filtro=1.-,2.-,5.-" class="small-box-footer">Mas Info <i class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>
            <div class="col-lg-2 col-4">
                <div class="small-box bg-warning">
                    <div class="inner">
                        <h3>@Model.Totales.First().EnRevision</h3>
                        <p>Concentrado</p>
                    </div>
                    <div class="small-box-icon">
                        <i class="ion ion-connection-bars"></i>
                    </div>
                    <a href="/Home/Listado?PagAct=@_aplicacion.PagAct&cTLS_Id=@_aplicacion.UsrId&Filtro=1.-,2.-,3.-,4.-,5.-,7.-,8.-" class="small-box-footer">Mas Info <i class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>

            <div class="col-lg-2 col-4">
                <div class="small-box" style="background-color: #e66a02;color: #1f2d3d;">
                    <div class="inner">
                        <h3>@Model.Totales.First().MejoraInterna</h3>
                        <p>Mejora Interna</p>
                    </div>
                    <div class="small-box-icon">
                        <i class="ion ion-arrow-graph-down-right"></i>
                    </div>
                    <a href="/Home/Listado?PagAct=@_aplicacion.PagAct&cTLS_Id=@_aplicacion.UsrId&Filtro=1.-" class="small-box-footer">Mas Info <i class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>

            <div class="col-lg-2 col-4">
                <div class="small-box" style="background-color: #c62232;color: #fff;">
                    <div class="inner">
                        <h3>@Model.Totales.First().Atrazado</h3>
                        <p>Pruebas</p>
                    </div>
                    <div class="small-box-icon">
                        <i class="ion ion-pie-graph"></i>
                    </div>
                    <a href="/Home/Listado?PagAct=@_aplicacion.PagAct&cTLS_Id=@_aplicacion.UsrId&Filtro=3.-,4.-,7.-" class="small-box-footer">Mas Info <i class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>

        </div>

        <div class="row">
            <section class="col-lg-6">
                <div class="card card-outline">
                    <div class="card-header bg-info-subtle">
                        <h3 class="card-title">
                            <i class="fas fa-chart-pie mr-1"></i>
                            Ticket por Mes
                        </h3>
                        <div class="card-tools">
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="sales-chart"></div>
                    </div>
                </div>
            </section>

            <section class="col-lg-6">
                <div class="card card-outline">
                    <div class="card-header bg-info-subtle">
                        <h3 class="card-title">
                            <i class="fas fa-chart-pie mr-1"></i>
                            Consultas Generadas (cifras en miles)
                        </h3>
                        <div class="card-tools">
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="search-chart"></div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>

@* <script src="/plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="/plugins/chart.js/Chart.min.js"></script> *@
@* <script src="/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
 *@<script>
       var labels = @Html.Raw(Json.Serialize(@Model.Graph1.labels));
      // ,\"Graph1\":{\"labels\":[\"Jun-25\",\"Jul-25\",\"Aug-25\",\"Sep-25\",\"Oct-25\"]
       var labelGraph1 =  '@Html.Raw((@Model).Graph1.labeldata)';
      // ,\"labeldata\":\"Ticket Reportados\"
       var dataGraph1 = @Html.Raw(Json.Serialize((@Model).Graph1.datas));
      // ,\"datas\":[7,7,6,7,3]
       var labelGraph2 = '@Html.Raw((@Model).Graph1.labeldata2)';
      //,\"labeldata2\":\"Ticket Atendidos\"
       var dataGraph2 = @Html.Raw(Json.Serialize((@Model).Graph1.datas2));
       //,\"datas2\":[6,2,3,4,1]
       var labelGraph3 = '@Html.Raw((@Model).Graph2.labeldata)';
      // ,\"labeldata\":\"Consultas Generadas (cifras en miles)\"
       var dataGraph3 = @Html.Raw(Json.Serialize((@Model).Graph2.datas));
     //,\"datas\":[111,94,135,148,1]}}"
</script>
@* <script src="/dist/js/pages/dashboard4.js"></script>
<script src="/plugins/jquery-knob/jquery.knob.min.js"></script> *@
<!-- apexcharts -->
<script src="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.min.js"
        integrity="sha256-+vh8GkaU7C9/wbSLIcwq82tQ2wTf44aOHA8HlBMwRI8="
        crossorigin="anonymous"></script>
<script>
    // NOTICE!! DO NOT USE ANY OF THIS JAVASCRIPT
    // IT'S ALL JUST JUNK FOR DEMO
    // ++++++++++++++++++++++++++++++++++++++++++

    /* apexcharts
     * -------
     * Here we will create a few charts using apexcharts
     */

    //-----------------------
    // - MONTHLY SALES CHART -
    //-----------------------

    const sales_chart_options = {
      series: [
        {
          name: labelGraph1,
          data: dataGraph1,
        },
        {
          name: labelGraph2,
          data: dataGraph2,
        },
      ],
      chart: {
        height: 180,
        type: 'area',
        toolbar: {
          show: false,
        },
      },
      legend: {
        show: true,
      },
      colors: ['#0d6efd', '#20c997'],
      dataLabels: {
        enabled: true,
      },
      stroke: {
        curve: 'smooth',
      },
      xaxis: {
        categories: labels,
      },
    };

    const sales_chart = new ApexCharts(
      document.querySelector('#sales-chart'),
      sales_chart_options,
    );
    sales_chart.render();

    //---------------------------
    // - END MONTHLY SALES CHART -
    //---------------------------

    //-----------------------
    // - MONTHLY SEARCH CHART -
    //-----------------------

      const search_chart_options = {
        series: [
          {
            name: labelGraph3,
            data: dataGraph3,
          },
        ],
        chart: {
          height: 180,
          type: 'area',
          toolbar: {
            show: false,
          },
        },
        legend: {
          show: true,
        },
        colors: ['#bfac82'],
        dataLabels: {
          enabled: true,
        },
        stroke: {
          curve: 'smooth',
        },
        xaxis: {
          categories: labels,
        },
      };

      const search_chart = new ApexCharts(
        document.querySelector('#search-chart'),
        search_chart_options,
      );
      search_chart.render();
      //---------------------------
      // - END MONTHLY SEARCH CHART -
      //---------------------------
</script>
<!--end::Script-->